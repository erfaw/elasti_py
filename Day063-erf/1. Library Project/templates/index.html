{% from 'bootstrap4/table.html' import render_table %}
<!DOCTYPE html>
<html lang="en" data-bs-theme="dark">
  <head>
    <meta charset="UTF-8" />
    <title>Library</title>
    {{ bootstrap.load_css() }}
  </head>
  <body>
    <div class="d-flex justify-content-center vh-100 pt-5">
      <div class="container justify-content-center align-items-center">
      {% if request.args.get('is_submited'): %}
        <h1 class="badge bg-success-subtle border border-success-subtle text-success-emphasis rounded-pill">Your record successfully recieved! Thanks !</h1>
      {% endif %}
      {% if request.args.get('is_removed'): %}
        <h1 class="badge bg-danger-subtle border border-danger-subtle text-danger-emphasis rounded-pill">Record removed!</h1>
      {% endif %}
      {% if request.args.get('is_rate_change'): %}
        <h1 class="badge bg-success-subtle border border-success-subtle text-success-emphasis rounded-pill">Your record's changed!</h1>
      {% endif %}
      <h1>My Library</h1>
      <ul>
        {% if not all_books|length == 0  %}
          {% for book in all_books: %}
            
            <li>
              {{ book.name }} - {{ book.author }} - <span class="btn btn-info rounded-pill px-3">{{ book.rate }}/10</span> - <span><a class="btn btn-danger rounded-pill px-3" href=" {{ url_for('delete', id=book.id) }} ">Delete</a></span> - <span><a class="btn btn-secondary rounded-pill px-3" href=" {{ url_for('edit_rate', id=book.id) }} ">Edit Rating</a>
              </span> 
            </li>
          {% endfor %}
          <!-- {{ render_table(all_books) }} -->
        {% else: %}
            <p>Library is empty.</p>
        {% endif %}
      </ul>



      <a class="btn btn-outline-primary" href="{{ url_for('add') }}">Add New Book</a>

      {{ bootstrap.load_css() }}
      </div>
    </div>
  </body>
</html>
